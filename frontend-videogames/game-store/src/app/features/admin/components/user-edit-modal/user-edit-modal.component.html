<!-- El fondo oscuro semitransparente -->
<div class="modal-backdrop" (click)="onClose()"></div>

<!-- El contenedor principal del modal -->
<div class="modal-container">
  <div class="modal-header">
    <div class="header-content">
      <i class="fa-solid fa-user-pen"></i>
      <h3>Editando a: {{ editableUser.nombre }} {{ editableUser.apellido }}</h3>
    </div>
    <button class="close-button" (click)="onClose()" title="Cerrar modal">&times;</button>
  </div>

  <div class="modal-body">
    <form (ngSubmit)="onSaveChanges()" #editForm="ngForm">

      <div class="form-row">
        <div class="form-group">
          <label for="edit-nombre"><i class="fa-solid fa-user fa-fw"></i> Nombre</label>
          <input id="edit-nombre" type="text" name="nombre" [(ngModel)]="editableUser.nombre" required>
        </div>
        <div class="form-group">
          <label for="edit-apellido"><i class="fa-solid fa-user fa-fw"></i> Apellido</label>
          <input id="edit-apellido" type="text" name="apellido" [(ngModel)]="editableUser.apellido" required>
        </div>
      </div>

      <div class="form-group">
        <label for="edit-correo"><i class="fa-solid fa-envelope fa-fw"></i> Correo Electrónico</label>
        <input id="edit-correo" type="email" name="correo" [(ngModel)]="editableUser.correo" required email>
      </div>

      <div class="form-group">
        <label for="edit-direccion"><i class="fa-solid fa-location-dot fa-fw"></i> Dirección</label>
        <textarea id="edit-direccion" name="direccion" [(ngModel)]="editableUser.direccion" rows="2"></textarea>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="edit-telefono"><i class="fa-solid fa-phone fa-fw"></i> Teléfono</label>
          <input id="edit-telefono" type="tel" name="telefono" [(ngModel)]="editableUser.telefono">
        </div>
        <div class="form-group">
          <label for="edit-pais"><i class="fa-solid fa-globe fa-fw"></i> País</label>
          <input id="edit-pais" type="text" name="pais" [(ngModel)]="editableUser.pais">
        </div>
      </div>

      <div class="form-group">
          <label for="edit-rol"><i class="fa-solid fa-user-shield fa-fw"></i> Rol</label>
          <select id="edit-rol" name="rol" [(ngModel)]="editableUser.tipo_usuario">
              <option value="comprador">Comprador</option>
              <option value="admin">Administrador</option>
          </select>
      </div>

      <div class="modal-footer">
        <button type="button" class="button-secondary" (click)="onClose()">Cancelar</button>
        <button type="submit" class="button-primary" [disabled]="editForm.invalid">
          <i class="fa-solid fa-save"></i>
          <span>Guardar Cambios</span>
        </button>
      </div>
    </form>
  </div>
</div>
